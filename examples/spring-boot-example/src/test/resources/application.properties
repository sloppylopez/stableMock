# Disable Spring Cloud compatibility verifier to allow OpenFeign 5.0.0 with Spring Boot 3.3.0
spring.cloud.compatibility-verifier.enabled=false

# Default URLs for tests (real APIs - used when StableMock is not active)
# When StableMock is active, @DynamicPropertySource will override these with
# dynamic WireMock URLs (random ports chosen at runtime).
# 
# Why @DynamicPropertySource is required:
# 1. WireMock ports are DYNAMIC (random free port chosen at runtime via findFreePort())
# 2. Tests run in PARALLEL (each test thread gets its own port)
# 3. The actual port is only known after WireMock starts in beforeAll/beforeEach
# You cannot hardcode the port in a profile because it's different each run!
app.thirdparty.url=https://jsonplaceholder.typicode.com
app.postmanecho.url=https://postman-echo.com
app.graphql.url=https://countries.trevorblades.com

# Properties with paths for path preservation testing
app.api.url=https://jsonplaceholder.typicode.com/posts/1
app.soap.endpoint=https://jsonplaceholder.typicode.com/users/1
app.rest.endpoint=https://jsonplaceholder.typicode.com/comments/1

# Feign client timeout configuration (important for WSL where network virtualization adds latency)
# These timeouts need to be longer than WireMock's proxy timeout (60s) to allow for:
# 1. WireMock proxy request to external API (up to 60s)
# 2. Network virtualization overhead in WSL
# 3. Response processing time
feign.client.config.default.connectTimeout=10000
feign.client.config.default.readTimeout=200000
feign.client.config.jsonPlaceholderClient.connectTimeout=10000
feign.client.config.jsonPlaceholderClient.readTimeout=200000
feign.client.config.postmanEchoClient.connectTimeout=10000
feign.client.config.postmanEchoClient.readTimeout=200000
feign.client.config.graphQLClient.connectTimeout=10000
feign.client.config.graphQLClient.readTimeout=200000

